<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <style>
    div.padded {
      padding-top: 30px;
      padding-right: 100px;
      padding-bottom: 0.25in;
      padding-left: 100px;
      margin: 60px;
      background-color: white;
    }

    body {
      font-family: "Nunito", sans-serif;
      font-size: 1.1rem;
      background: linear-gradient(to top left, #33ccff 0%, #ff99cc 100%);
      line-height: 170%;
    }

    h2 {
      text-align: center;
    }

    td {
      padding: 25px;
    }

    .variable {
      font-family: monospace;
    }

    .left-img {
      float: left;
      margin-right: 30px;
      margin-bottom: 10px;
    }

    .right-txt {
      clear: right;
    }


    td {
      padding: 5px;
    }

    .equation {
      margin: 0 auto 0 auto;
    }

    .c {
      border-collapse: collapse;
    }

    img {
      width: 250px;
      height: 250px;
    }
  </style>
  <title>CS 184 Final Project: Light Field Camera</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital@0;1&family=Nunito:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>
  <br />
  <h1 align="middle">CS184 Final Project</h1>
  <h2 align="middle">Weiyuan Chen, Shengxian Chen, Yiming wang, ChingYi Leung
  <h2>repo: https://github.com/joewychen/suibian-final-pj</h2>
  </h2>

  <div class="padded">
    <h1>Light Field Camera Support</h1>
    <h3>Accomplishment:</h3>
    <p>We sucessfully implemented refocusing on some light field data from 
      <a href="http://lightfield.stanford.edu/lfs.html">The (New) Stanford Light Field Archive</a> </p>
    <p>
    <h3>Refocusing technical brief:</h3>
    <p>We used shift-and-add algorithm on light field from Pro. Ren's lecture and paper.
      Basically, we shift each RGB value in each grid(image) in the Stanford data set, and averge
    the result with Numpy. The shifting amount is based on the alpha * the distance between
    the position of grid and the center of the array of grids.</p>

    </p>
    <h3>Preliminary results:</h3> 
    <h4>Working case: Chessboard, Crystal ball</h4>
    <table>
      <tr>
        <td>
          <img src="./images/chess.gif" alt="" >
        </td>
        <td>
          <img src="./images/ball.gif" alt="" >
        </td>
      </tr>
    </table>
    <p>
      We are able to refocus at different position of the scene. However,
       we are using different shifting parameters for different scene.
    </p>

    <h3>Video:</h3>
    <a href="https://drive.google.com/file/d/1-UyWFUtLpbTGOdchzk9UsUxiXPDHCRB1/view?usp=sharing">Milestone Video</a>
  
    <h3>Plan Reflection and Update:</h3>
    <h4>Original Plan: we break our project into 3 parts.</h4>
    <ul>
      <li>Part1: Collecting light field data set. (fail)</li>
      <li>Part2: Light field refocusing and vary aperture size. (working)</li>
      <li>Part3: GUI interaction. (coming)</li>
    </ul>
    <p>Our original plan was to finished figuring out how to generate our light field image datas. Our attemp was using the mitsuba2 renderer to render
      a set of images from different camera positions. However, we was not able to find some good sources of xml files that can be rendered sucessfully. Due to limitations and many technical diffculties in 
      the renderer we chose, we have spent more time on this data collection than we expected. Therefore, we decided to put 
      this subpart on hold and work on actually implmenting the refocusing of image.</p>
    <p>Also, we noticed that refocusing is slow because it takes 10s to compute with numpy. Hence, GUI interation might be 
      slow.
    </p>

    <h4>Updated Plan: finshing refocusing and aperture ajustment, and adding GUI for demo.</h4>
    <p>Our next step is to implement aperture change and an interactive gui (a slider for adjusting refocusing area) for the refocusing. There are some concern 
      about this gui that we plan to tackle on, including how the range of user input and 
      If there is sufficient time for re-attempting creating light field image data input, we will give it a try after our refocus and gui is fully functioning.</p>
    
    

  </div>
</body>

</html>
